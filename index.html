<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <title>Kierownik</title>
  </head>
  <body>
    <main class="container h-screen mx-auto bg-slate-50 px-2">
      <section class="flex flex-row gap-3 py-3">
        <form
          id="generalPlanInfoForm"
          class="basis-2/3 border-2 border-blue-400 rounded-2xl px-3 pb-2"
        >
          <div class="grid grid-col-2 gap-2">
            <div class="p-2 col-span-2 flex justify-center">
              <div class="flex w-full justify-center">Informacje ogólne</div>
              <svg
                onclick="resetGeneralPlanInfoForm()"
                xmlns="http://www.w3.org/2000/svg"
                height="24px"
                width="24px"
                viewBox="0 -960 960 960"
                fill="#5f6368"
              >
                <path
                  d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"
                />
              </svg>
            </div>
            <div class="rounded-lg">
              <select
                class="w-full p-2 rounded-lg bg-slate-100"
                name="planObject"
                id="planObject"
              >
                <option selected disabled value="">Wybierz obiekt...</option>
                <option value="Stelpe">Stelpe</option>
                <option value="Batkowo">Batkowo</option>
                <option value="Osów 2">Osów 2</option>
              </select>
            </div>
            <div
              class="flex flex-row justify-between items-center rounded-lg ml-2"
            >
              <div>
                Data od:
                <input
                  id="planDateStart"
                  class="bg-slate-100 p-2 ml-2 rounded-lg"
                  type="date"
                />
              </div>
              <div>
                Data do:
                <input
                  id="planDateEnd"
                  class="bg-slate-100 p-2 ml-2 rounded-lg"
                  type="date"
                />
              </div>
            </div>
            <div class="bg-slate-100 rounded-lg">
              <select
                class="w-full p-2 rounded-lg bg-slate-100"
                name="planJobType"
                id="planJobType"
              >
                <option selected disabled value="">
                  Wybierz rodzaj robót...
                </option>
                <option value="Kafarowanie słupów konstrukcji">
                  Kafarowanie słupów konstrukcji
                </option>
                <option value="Montaż PV modułów">Montaż PV modułów</option>
                <option value="Montaż ogrodzenia">Montaż ogrodzenia</option>
              </select>
            </div>
            <div class="flex flex-row gap-2 items-center justify-end p-2">
              Całkowita ilość dni:
              <p id="planDaysTotal">0</p>
              (roboczych:
              <p id="planDaysWork">0)</p>
            </div>
            <div
              class="flex flex-row items-center justify-between bg-slate-50 rounded-lg ml-2"
            >
              Planowana ilość:
              <input
                class="p-2 w-max rounded-lg bg-slate-100"
                type="text"
                maxlength="5"
                oninput="floatInputPattern(this)"
              />
            </div>
            <div class="flex flex-row gap-2 items-center justify-end p-2">
              Zaplanowano:
              <p id="planQuantitySum">0</p>
              /
              <p id="planQuantityTotal">1500</p>
            </div>
          </div>
        </form>
        <form
          id="helpingCalcForm"
          class="basis-1/3 flex flex-col gap-2 px-2 border-2 border-blue-400 rounded-2xl"
        >
          <div
            class="flex flex-row justify-between items-center min-w-full p-2"
          >
            <div class="flex w-full justify-center">Kalkulator pomocniczy</div>
            <svg
              onclick="resetHelpingCalcForm()"
              xmlns="http://www.w3.org/2000/svg"
              height="24px"
              width="24px"
              viewBox="0 -960 960 960"
              fill="#5f6368"
            >
              <path
                d="M280-120q-33 0-56.5-23.5T200-200v-520h-40v-80h200v-40h240v40h200v80h-40v520q0 33-23.5 56.5T680-120H280Zm400-600H280v520h400v-520ZM360-280h80v-360h-80v360Zm160 0h80v-360h-80v360ZM280-720v520-520Z"
              />
            </svg>
          </div>
          <div class="flex flex-row gap-2 items-center">
            <div class="w-full">
              <select
                onchange="onChangeCalcDrop1(this)"
                class="w-full p-2 rounded-lg bg-slate-100"
                name="calcDrop1"
                id="calcDrop1"
              >
                <option selected disabled value="">Wybierz z listy...</option>
                <option value="Ilość dni">Ilość dni</option>
                <option value="Ilość pracowników (dziennie)">
                  Ilość pracowników (dziennie)
                </option>
                <option value="Ilość płanowana (dziennie)">
                  Ilość płanowana (dziennie)
                </option>
              </select>
            </div>
            <div class="w-auto">
              <input
                id="calcInput1"
                class="p-2 rounded-lg text-right max-w-24 bg-slate-100"
                maxlength="5"
                oninput="calculateHelpingResult(this)"
              />
            </div>
          </div>
          <div class="flex flex-row justify-between gap-2 items-center">
            <div class="w-full">
              <select
                disabled
                onchange="setHelpingCategory()"
                class="w-full p-2 rounded-lg bg-slate-100"
                name="calcDrop2"
                id="calcDrop2"
              >
                <option selected disabled value="">Wybierz z listy...</option>
              </select>
            </div>
            <div class="w-auto">
              <input
                id="calcInput2"
                class="p-2 rounded-lg text-right max-w-24 bg-slate-100"
                maxlength="5"
                oninput="calculateHelpingResult(this)"
                disabled
              />
            </div>
          </div>
          <div class="flex flex-row gap-2 justify-between items-center">
            <div class="p-2" id="calcResultCategory"></div>
            <div class="p-2 text-right" id="calcResultValue"></div>
          </div>
        </form>
      </section>

      <!-- CHARTS -->
      <section class="flex flex-row gap-3">
        <section
          class="basis-2/3 flex flex-col gap-4 border-2 border-blue-400 rounded-2xl"
        >
          <div class="flex flex-row justify-center">
            <h2 class="py-2">Harmonogram planowy</h2>
          </div>
          <canvas id="chartJobPlan"></canvas>
          <hr />
          <canvas height="300" id="chartEmployeesPlan"></canvas>
        </section>

        <section
          class="basis-1/3 flex flex-col gap-4 border-2 border-blue-400 rounded-2xl"
        >
          <div class="flex flex-row justify-center">
            <h2 class="py-2">Informacje szczególne</h2>
          </div>
          <form
            id="detailPlanListForm"
            class="flex flex-col justify-center items-start px-2"
          >
            <div class="w-full">
              <div
                class="flex flex-row gap-2 items-center border-y-2 border-blue-100"
              >
                <div class="w-16">25 lis</div>
                <div class="flex flex-row gap-1 items-center w-auto mr-auto">
                  <select
                    class="bg-slate-100 p-1 rounded-md"
                    name="2024-11-25"
                    id="2024-11-25"
                  >
                    <option disabled selected value="">St. brygadzista</option>
                    <option value="Chuprin">Chuprin</option>
                    <option value="Ivantsov">Ivantsov</option>
                    <option value="Kruk">Kruk</option>
                  </select>
                  <input
                    class="w-auto p-1 rounded-md"
                    type="text"
                    maxlength="2"
                    oninput="intInputPattern(this)"
                  />
                </div>
                <div>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    height="36px"
                    width="36px"
                    viewBox="0 -960 960 960"
                    class="fill-blue-500"
                  >
                    <path
                      d="M440-280h80v-160h160v-80H520v-160h-80v160H280v80h160v160Zm40 200q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Zm0-320Z"
                    />
                  </svg>
                </div>
              </div>
            </div>
          </form>
        </section>
      </section>
    </main>
    <script src="main.js"></script>
  </body>
</html>
